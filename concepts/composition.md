**[Концепции, понятия, термины](../README.md#concepts) ::**
# Композиция

Описывает отношения объектов, в частности, процесс создания объектов путем комбинирования и объединения более простых объектов.

> :thinking: **AIUI**
>
> Не является зависимостью. Общий класс при инициализации так же инициализирует и все необходимые ему дополнительные классы (элементы композиции) в своем конструкторе или методах и хранит их в своих полях. При удалении экземпляра основного класса так же будут удалены и все экземпляры компонентов, инициализированных в нем.

[К оглавлению](../README.md#concepts)

Композиция удобна, когда мы описываем отношения "имеет".

Является частным случаем [ассоциации](association.md).

Вместо того чтобы создавать новую функцию или объект с нуля, мы можем использовать уже существующие функции или объекты и комбинировать их в более сложные структуры.

Используется, чтобы разбить сложную задачу на более простые подзадачи и решать их по отдельности, а затем комбинировать для получения итогового результата. Это позволяет повысить модульность кода, улучшить его читаемость и повторное использование.

Позволяет создавать более гибкие и расширяемые системы, так как отдельные компоненты могут быть легко заменены или изменены без влияния на остальной код. Помогает избежать дублирования кода, за счет использования одних и тех же компонентов в разных местах.

При уничтожении объекта использующего экземпляры других классов так же уничтожаются и экземпляры этих классов.

По сути является более жестко связанным вариантом [агрегации](aggregation.md) - тут "части" основного класса зависят от него и существуют пока существует основной класс.

## Плюсы
- Композиция позволяет скрыть использование других объектов.
- Делает API использования класса более простым и позволяет перейти от использования одного класса, к другому.

## Минусы
- Отношение достаточно жесткое, поскольку один объект должен уметь создавать другой: он должен знать конкретный тип и иметь доступ к функции создания. Композиция не позволяет использовать интерфейсы (без привлечения фабрик) и требует, чтобы класс имел доступ к конструктору другого класса.

[К оглавлению](../README.md#concepts)
