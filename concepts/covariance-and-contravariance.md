**[Концепции, понятия, термины](../README.md#concepts) ::**
# Ковариантность и контрвариантность

Способы переноса наследования типов на производные от них типы.

**Вариантность** — перенос наследования исходных типов на производные от них типы. Под производными типами понимаются контейнеры, делегаты, обобщения, а не типы, связанные отношениями "предок-потомок". Различными видами вариантности являются ковариантность, контравариантность и инвариантность.

В теории любой тип в любом месте может ко/контр/ин-вариантен, но на практике конкретные языки и конкретные компиляторы накладывают ограничения.

> :thinking: **AIUI**
>
> Не относится к типам как таковым, а скорее именно к наследованию классов или вызову методов и получаемому в ответ типу. То есть ковариантные наследники класса А вернут производный (более узкий) тип от класса А, а контрвариантные наследники класса А вернут универсальный (более широкий) тип предшествующий классу А.

[К оглавлению](../README.md#concepts)

Разница между ковариантностью и контравариантностью в универсальных типах заключается в том, что они позволяют использовать вместо некоторого типа другой тип, который находится ниже или выше в иерархии наследования.

## Ковариантность
Перенос наследования исходных типов на производные от них типы в прямом порядке. Характеризует специализацию кода, то есть замену старого кода новым в определённых случаях.
Позволяет использовать более конкретный тип, чем заданный изначально.

> :thinking: **AIUI**
>
> По сути движение по дереву наследования типов вниз. Например: данные получаемые в ответ от метода будут иметь более конкретизированный тип, по сравнению с типом данных переданным на обработку. 

## Контравариантность
Перенос наследования исходных типов на производные от них типы в обратном порядке. Позволяет корректно устанавливать тип при создании подтипов, то есть, установить множество функций, позволяющее заменить другое множество функций в любом контексте. Позволяет использовать более универсальный тип, чем заданный изначально.

> :thinking: **AIUI**
>
> По сути движение по дереву наследования типов вверх. Например: данные получаемые в ответ от метода будут иметь более абстрактный (универсальный) тип, по сравнению с типом данных переданным на обработку.

## Инвариантность
Наследование исходных типов не переносится на производные.

> :thinking: **AIUI**
>
> По сути отсутствие движения по дереву наследования типов. Например: данные получаемые в ответ от метода будут того же типа, что и переданные данные.

[К оглавлению](../README.md#concepts)
