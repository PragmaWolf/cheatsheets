**[Концепции, понятия, термины](../../README.md#concepts) ::** 
**[Отношения](../../README.md#concepts-relations) ::**
# Агрегирование

Описывает отношения объектов, в частности, создание нового объекта из уже существующих объектов путём их включения.

> :thinking: **AIUI**
>
> Не является зависимостью. Общий класс при инициализации не инициализирует все необходимые ему дополнительные классы они создаются отдельно и передаются в общий класс как параметры конструктора или метода. При удалении экземпляра основного класса экземпляры агрегированных классов не будут удалены - они останутся существовать вне зависимости от экземпляра основного класса.

Агрегирование удобна, когда мы описываем отношения "есть".

Является частным случаем [ассоциации](association.md).

Отношение между двумя равноправными объектами, когда один объект (контейнер) имеет ссылку на другой объект. Оба объекта могут существовать независимо: если контейнер будет уничтожен, то его содержимое - нет.

Агрегированные объекты класса обычно объявляются закрытыми, что делает их недоступными извне. С другой стороны, класс может изменять агрегированные объекты, не нарушая при этом работы существующего клиентского кода. Кроме того, замена вложенных объектов на стадии выполнения программы позволяет динамически изменять её поведение. Механизм [наследования](inheritance.md) такой гибкостью не обладает.

На базе агрегирования реализуется методика делегирования, когда поставленная перед внешним объектом задача перепоручается внутреннему объекту, решающему задачи такого рода.

По сути является более слабо связанным вариантом [композиции](composition.md) - тут "части" основного класса не зависят от него, а существуют параллельно, просто предоставляя ссылку на себя для использования.

[К оглавлению](../../README.md#concepts-relations)

## Плюсы
- Более слабая связанность между классом и его агрегированными частями. Моно использовать интерфейсы и одному объекту не нужно знать, как именно создавать другой объект.
- Большая гибкость кода.

## Минусы
- Выставление наружу деталей реализации, поскольку класс должен получить зависимость в момент инициализации.
- Увеличение сложности в при работе с классами-агрегаторами, возможная большая "жесткость" решения в долгосрочной перспективе.
- Ситуация, когда ассоциированный класс будет удален, а использующий его класс еще будет существовать и пытаться использовать методы удаленного класса.

[К оглавлению](../../README.md#concepts-relations)

> [!IMPORTANT]
> Если вы заметили ошибку, неточность, нехватку информации, пожалуйста, сообщите мне.
