**[Вопросы собеседований](../../README.md#tasks) ::**
**[JavaScript](../../README.md#tasks-javascript) ::**
# Проверка порядка скобок

Необходимо написать функцию, которая будет проверять корректность расстановки скобок в строке и возвращать `true` или `false`.

Условия:
- `({[as]})` - скобки расставлены корректно, функция должна ввернуть `true`.
- `()[]` - скобки расставлены корректно, функция должна ввернуть `true`.
- `foo({[as]})` - скобки расставлены корректно, функция должна ввернуть `true`.
- `(()` - скобки расставлены не корректно, функция должна ввернуть `false`.
- `({[as]})bar` - скобки расставлены корректно, функция должна ввернуть `true`.
- `({)}` - скобки расставлены не корректно, функция должна ввернуть `false`.
- ` (foo{[as]bar} ) ` - скобки расставлены корректно, функция должна ввернуть `true`.

Набор допустимых пар скобок: `()`, `{}`, `[]`.

[К оглавлению](../../README.md#tasks-javascript)

---

## Решение
Оценка алгоритма - **O(n+1)**

```javascript
function checkBrackets(str) {
  // формируем хеш-таблицу с допустимыми скобками (максимально быстрый доступ по ключу)
  const brackets = {
    '(': ')',
    '{': '}',
    '[': ']',
  }
  // создаем массив для будущего стека скобок, ожидающих закрытия
  const stack = [];
  // создаем массив закрывающих скобок
  const closedBrackets = Object.values(brackets);
  // проходим по строке
  for (let i = 0; i < str.length; i++) {
    const stackLength = stack.length - 1; // для читабельности кода выносим длину стека в переменную
    // если символ в строке относится к открывающимся скобкам - добавляем закрывающуюся скобку в стек
    // переходим к следующему символу в строке
    if (brackets[str[i]]) {
      stack.push(brackets[str[i]]);
      continue;
    }
    // если символ в строке НЕ относится к закрывающимся скобкам - переходим к следующему символу в строке
    if (!closedBrackets.includes(str[i])) {
      continue;
    }
    // тут начинается обработка закрывающихся скобок
    // если символ в строке НЕ совпадает с последней записью в стеке - значит закрывающая скобка не соответствует ожидаемой
    // сразу прерываем обработку возвращая FALSE
    if (str[i] !== stack[stackLength]) {
      return false;
    }
    // если символ в строке совпадает с последней записью в стеке - удаляем последнюю запись из стека
    if (str[i] === stack[stackLength]) {
      stack.length -= 1;
    }
  }

  // после завершения обработки всей строки, если в стеке остались данные - возвращая FALSE
  // если данных в стеке не осталось - возвращаем TRUE
  return !(stack.length > 0);
}

// Проверки:
console.log(checkBrackets('({[as]})')); // true
console.log(checkBrackets('()[]')); // true
console.log(checkBrackets('foo({[as]})')); // true
console.log(checkBrackets('(()')); // false
console.log(checkBrackets('({[as]})bar')); // true
console.log(checkBrackets('({)}')); // false
console.log(checkBrackets(' (foo{[as]bar} ) ')); // true
```

[К оглавлению](../../README.md#tasks-javascript)

> [!IMPORTANT]
> Если вы заметили ошибку, неточность, нехватку информации, пожалуйста, сообщите мне.
