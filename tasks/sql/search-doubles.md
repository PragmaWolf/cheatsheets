**[Вопросы собеседований](../../README.md#tasks) ::** 
**[SQL](../../README.md#tasks-sql) ::**
# Выбрать дублирующиеся данные

Необходимо выбрать из таблицы дублирующиеся записи.

[К оглавлению](../../README.md#tasks-sql)

---

## Решение 1

```sql
SELECT column_name, COUNT(*) OVER (PARTITION BY column_name) as cnt
FROM table_name
HAVING cnt > 1;
```

- Выбираем все значения для `column_name`. 
- Используем оконную функцию `count` по партиции `column_name` (для каждого значения `column_name` из выборки) получая количество записей для каждого значения `column_name` в выборке.
- Фильтруем выборку по полю `cnt`, содержащему количество записей для каждого значения `column_name`, оставляя в результате только строки, где `cnt > 1`.

> Оконная функция - функция, которая работает с выделенным набором строк (окном, партицией) и выполняет вычисление для этого набора строк в отдельном столбце.

[К оглавлению](../../README.md#tasks-sql)

---

## Решение 2

```sql
SELECT column_name, COUNT(*) AS cnt
FROM table_name
GROUP BY column_name
HAVING cnt > 1;
```

- Выбираем данные из таблицы, группируя их по `column_name`.
- Вычисляем количество строк в каждой группировке (для каждого значения `column_name`) получая количество записей для каждого значения `column_name` в выборке.
- Фильтруем выборку по полю `cnt`, содержащему количество записей для каждого значения `column_name`, оставляя в результате только строки, где `cnt > 1`.

[К оглавлению](../../README.md#tasks-sql)

> [!IMPORTANT]
> Если вы заметили ошибку, неточность, нехватку информации, пожалуйста, сообщите мне.
